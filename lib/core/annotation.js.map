{"version":3,"sources":["../../src/core/annotation.es6"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;AAOA,IAAI,qBAAqB,gBAAE,KAAF,CAAQ,UAAS,QAAT,EAAmB,IAAnB,EAAwB;AACxD,QAAO,SAAS,MAAT,CAAgB,UAAS,OAAT,EAAiB;AACvC,SAAO,QAAQ,OAAR,CAAgB,IAAhB,CAAqB,IAArB,CAAP,CADuC;EAAjB,CAAvB,CADwD;CAAxB,CAAR,oBAArB;;IAMiB;;;mCACI,SAAQ;AAC/B,OAAI,aAAa,IAAb;OACH,YAAY,QAAQ,OAAR,CAAgB,CAAhB,CAAZ;OACA,iBAAiB,mBAAmB,SAAnB,CAAjB,CAH8B;;AAK/B,OAAG,eAAe,MAAf,EAAsB;AACxB,qBAAiB,eAAe,CAAf,CAAjB,CADwB;IAAzB,MAGI;AACH,qBAAiB,IAAjB,CADG;IAHJ,CAL+B;;AAY/B,OAAG,cAAH,EAAkB;AACjB,QAAI,UAAU,QAAQ,OAAR,CADG;AAEjB,YAAQ,CAAR,IAAa,QAAQ,CAAR,EAAW,OAAX,CAAmB,eAAe,OAAf,EAAwB,EAA3C,CAAb,CAFiB;;AAIjB,iBAAa,IAAI,UAAJ,CAAe,eAAe,IAAf,EAAqB,OAApC,EAA6C,OAA7C,CAAb,CAJiB;IAAlB;;AAOA,UAAO,UAAP,CAnB+B;;;;AAsBhC,UAvBoB,UAuBpB,CAAY,IAAZ,EAAkB,OAAlB,EAA2B,OAA3B,EAAmC;wBAvBf,YAuBe;;AAClC,OAAK,IAAL,GAAY,IAAZ,CADkC;AAElC,OAAK,OAAL,GAAe,OAAf,CAFkC;AAGlC,OAAK,OAAL,GAAe,OAAf,CAHkC;EAAnC;;QAvBoB","file":"annotation.js","sourcesContent":["import R from 'ramda';\nimport {ANNOTATIONS} from './rules';\n\n/*\nTODO: Allow new patterns to be injected\nTR_ID: 56f270404fdee3bee6d128e7\nTR_STATUS: To Do\n*/\nlet isAnnotationFilter = R.curry(function(matchers, line){\n\treturn matchers.filter(function(matcher){\n\t\treturn matcher.pattern.test(line);\n\t})\n})(ANNOTATIONS);\n\nexport default class Annotation{\n\tstatic createAnnotation(comment){\n\t\tlet annotation = null,\n\t\t\tfirstLine = comment.content[0],\n\t\t\tannotationRule = isAnnotationFilter(firstLine);\n\n\t\tif(annotationRule.length){\n\t\t\tannotationRule = annotationRule[0];\n\t\t}\n\t\telse{\n\t\t\tannotationRule = null;\n\t\t};\n\n\t\tif(annotationRule){\n\t\t\tlet content = comment.content;\n\t\t\tcontent[0] = content[0].replace(annotationRule.pattern, '');\n\n\t\t\tannotation = new Annotation(annotationRule.type, content, comment);\n\t\t}\n\n\t\treturn annotation;\n\t}\n\n\tconstructor(type, content, comment){\n\t\tthis.type = type;\n\t\tthis.content = content;\n\t\tthis.comment = comment;\n\t}\n}\n"]}